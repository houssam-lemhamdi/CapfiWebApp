<div class="container mt-5">
  <div class="card p-2">
    <div class="row">
      <div class="col-12">
        <table mat-table [dataSource]="dataSource" matSort (matSortChange)="customSort($event)">

          <ng-container matColumnDef="tconst">
            <th mat-header-cell *matHeaderCellDef [style.background-color]="'green'"> Id </th>
            <td mat-cell *matCellDef="let element"> {{element.tconst}} </td>
          </ng-container>

          <ng-container matColumnDef="titleType">
            <th mat-header-cell *matHeaderCellDef [style.background-color]="'green'"> titleType </th>
            <td mat-cell *matCellDef="let element"> {{element.titleType}} </td>
          </ng-container>

          <ng-container matColumnDef="primaryTitle">
            <!-- <th mat-header-cell *matHeaderCellDef mat-sort-header [style.background-color]="'green'"> primaryTitle </th> -->


            <th mat-header-cell *matHeaderCellDef  disableClear [style.background-color]="'green'">
              <div class="header">
                primaryTitle
                <button mat-button class="btn-toggle" [matMenuTriggerFor]="menu">
                  <mat-icon>keyboard_arrow_down</mat-icon>
                </button>

              </div>
              <mat-menu #menu>
                <div mat-menu-item mat-filter-item [disableRipple]="true" class="menu-title">
                  primaryTitle
                </div>
                <div mat-menu-item mat-filter-item [disableRipple]="true">
                  <mat-form-field>
                    <input matInput placeholder="primaryTitle" [(ngModel)]="searchValue.primaryTitle">
                  </mat-form-field>
                </div>

                <div mat-menu-item mat-filter-item [disableRipple]="true">
                  <button mat-raised-button (click)="clearColumn('primaryTitle')">Clear</button>
                  <button mat-raised-button color="primary" (click)="applyFilter()">Search</button>

                </div>
              </mat-menu>

            </th>



            <td mat-cell *matCellDef="let element"> {{element.primaryTitle}} </td>
          </ng-container>

          <ng-container matColumnDef="originalTitle">
            <!-- <th mat-header-cell *matHeaderCellDef mat-sort-header [style.background-color]="'green'"> originalTitle
            </th> -->
            <th mat-header-cell *matHeaderCellDef  disableClear [style.background-color]="'green'">
              <div class="header">
                originalTitle
                <button mat-button class="btn-toggle" [matMenuTriggerFor]="menu">
                  <mat-icon>keyboard_arrow_down</mat-icon>
                </button>

              </div>
              <mat-menu #menu>
                <div mat-menu-item mat-filter-item [disableRipple]="true" class="menu-title">
                  originalTitle
                </div>
                <div mat-menu-item mat-filter-item [disableRipple]="true">
                  <mat-form-field>
                    <input matInput placeholder="originalTitle" [(ngModel)]="searchValue.originalTitle">
                  </mat-form-field>
                </div>

                <div mat-menu-item mat-filter-item [disableRipple]="true">
                  <button mat-raised-button (click)="clearColumn('originalTitle')">Clear</button>
                  <button mat-raised-button color="primary" (click)="applyFilter()">Search</button>

                </div>
              </mat-menu>

            </th>
            <td mat-cell *matCellDef="let element"> {{element.originalTitle}} </td>
          </ng-container>

          <ng-container matColumnDef="isAdult">
            <th mat-header-cell *matHeaderCellDef [style.background-color]="'green'"> isAdult </th>
            <td mat-cell *matCellDef="let element"> {{element.isAdult}} </td>
          </ng-container>

          <ng-container matColumnDef="startYear">
            <!-- <th mat-header-cell *matHeaderCellDef mat-sort-header [style.background-color]="'green'"> startYear </th> -->
            <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear [style.background-color]="'green'">
              <div class="header">
                startYear
                <button mat-button class="btn-toggle" [matMenuTriggerFor]="menu">
                  <mat-icon>keyboard_arrow_down</mat-icon>
                </button>

              </div>
              <mat-menu #menu>
                <div mat-menu-item mat-filter-item [disableRipple]="true" class="menu-title">
                  startYear
                </div>
                <div mat-menu-item mat-filter-item [disableRipple]="true">
                  <mat-form-field>
                    <input matInput placeholder="startYear" [(ngModel)]="searchValue.startYear">
                  </mat-form-field>
                </div>

                <div mat-menu-item mat-filter-item [disableRipple]="true">
                  <button mat-raised-button (click)="clearColumn('startYear')">Clear</button>
                  <button mat-raised-button color="primary" (click)="applyFilter()">Search</button>

                </div>
              </mat-menu>

            </th>
            <td mat-cell *matCellDef="let element"> {{element.startYear }} </td>
          </ng-container>

          <ng-container matColumnDef="endYear">
            <th mat-header-cell *matHeaderCellDef [style.background-color]="'green'"> endYear </th>
            <td mat-cell *matCellDef="let element"> {{element.endYear}} </td>
          </ng-container>

          <ng-container matColumnDef="runtimeMinutes">
            <th mat-header-cell *matHeaderCellDef [style.background-color]="'green'"> runtimeMinutes </th>
            <td mat-cell *matCellDef="let element"> {{element.runtimeMinutes}} </td>
          </ng-container>

          <ng-container matColumnDef="genres">
            <th mat-header-cell *matHeaderCellDef [style.background-color]="'green'"> genres </th>
            <td mat-cell *matCellDef="let element"> {{element.genres}} </td>
          </ng-container>


          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator  [pageSizeOptions]="[2, 4, 6, 10, 20]" 
            [length]="result.totalElements"
            [pageSize]="result.size"
            showFirstLastButtons="true"
            (page)="loadPaginateddData($event)">
        </mat-paginator>

      </div>
    </div>
  </div>
  <button mat-raised-button color="primary" style="position: absolute; top: 9px;right: 3rem" (click)="openDialog()">Add Movie</button>
</div>